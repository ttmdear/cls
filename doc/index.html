<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>CLS</title>
        <script src="../src/cls.js"></script>
        <script>

            var Zwierze = cls.class({
                getRasa : function(){}
            });

            var Pies = cls.class({
                _implements : [Zwierze],
                getRasa : function()
                {
                    return "pies";
                }
            });

            var Kot = cls.class({
                // _implements : [Zwierze],
                getRasa : function()
                {
                    return "pies";
                }
            });

            var Czlowiek = cls.class({
                _private : {
                    zwierze : null
                },
                _static : {
                    factory : function(zwierze)
                    {
                        switch(zwierze){
                            case 'pies':
                            return new this.self(new Pies());
                            case 'kot':
                            return new this.self(new Kot());
                        }
                    }
                },
                init : function(zwierze)
                {
                    zwierze.assertInstanceOf(Zwierze);

                    var $p = this.private;
                    $p.zwierze = zwierze;
                },
                wyjdz : function()
                {
                    var $p = this.private;
                    var zwierze = $p.zwierze;

                    console.log("Ok wychodze z "+zwierze.getRasa());
                }
            });

            czlowiek = Czlowiek.factory('kot');
            console.log('czlowiek', czlowiek);
            czlowiek.wyjdz();

        </script>
    </head>
    <body>
    </body>
</html>
